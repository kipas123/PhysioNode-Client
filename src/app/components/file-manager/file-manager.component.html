<nb-alert status="success" closable (close)="onClose()" *ngIf="alertAddedFile">
  Added file!
</nb-alert>
<nb-alert status="danger" closable (close)="onClose()" *ngIf="alertDelateFile">
  Deleted file!
</nb-alert>
<button nbButton hero status="primary"style="margin-bottom:10px;" (click)="showAddForm()">Add +</button>
<div *ngIf="addFileFormShow" class="col-sm-4" style="margin-bottom: 10px">
    <label class="label" for="input-email">Choose file:</label>
    <input nbInput fullWidth placeholder="Email-address" type="file" multiple="multiple" (change)="onFileChanged($event)">
    <button nbButton size="small" status="primary" style="margin-top: 5px; margin-bottom:5px; float:right;"(click)="uploadFile()">Add</button>
</div>

<div class="table-responsive">
    <table class="table table-dark">
        <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Type</th>
              <th scope="col">Size</th>
              <th scope="col">Date sent</th>
              <th scope="col">Tools</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let file of ailmentFiles; index as i;">
              <th scope="row">{{i+1}}</th>
              <td>{{file.name}}</td>
              <td>{{file.type}}</td>
              <td>{{file.size}}</td>
              <td>{{file.dateAdded | date:'medium'}}</td>
              <td>
                <button *ngIf="isUploadedByCurrenUser(file.userId)" nbButton size="small" status="danger" (click)="deleteFile(file.idailment_files)">Delete</button>
                &nbsp;&nbsp;
                <a href="{{file.url}}" style="text-decoration: none;"><button nbButton size="small" status="warning">Download</button></a>
              </td>
            </tr>
          </tbody>
    </table>
  </div>
  <p>Note that you can only delete files that belong to you!</p>